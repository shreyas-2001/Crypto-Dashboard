import{A as c,Ba as l,k as n,n as s,ra as d,u as a,v as f}from"./chunk-7XSQYWME.js";var m=class r{platformId=s(c);items=a([]);totalInvested=d(()=>this.items().reduce((o,t)=>o+t.amount*t.purchasePrice,0));constructor(){if(l(this.platformId)){let o=localStorage.getItem("portfolio");if(o)try{this.items.set(JSON.parse(o))}catch(t){console.error("Failed to parse portfolio",t)}f(()=>{localStorage.setItem("portfolio",JSON.stringify(this.items()))})}}addOrUpdateCoin(o){this.items.update(t=>{let e=t.findIndex(i=>i.coinId===o.coinId);if(e>-1){let i=[...t];return i[e]=o,i}return[...t,o]})}removeCoin(o){this.items.update(t=>t.filter(e=>e.coinId!==o))}getPortfolioItem(o){return this.items().find(t=>t.coinId===o)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{m as a};
